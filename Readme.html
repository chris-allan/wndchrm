<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex,nofollow">

<title>Release Notes0.4.3 - mfGraph</title>
<script type="text/javascript" src="Readme_files/common.js"></script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="Readme_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="Readme_files/print.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static184/modern/css/msie.css">
<![endif]-->



<link rel="alternate" type="application/wiki" title="Edit" href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=edit">

<link rel="Start" href="http://localhost/mfgraphwiki/FrontPage">
<link rel="Alternate" title="Wiki Markup" href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=print">
<link rel="Search" href="http://localhost/mfgraphwiki/FindPage">
<link rel="Index" href="http://localhost/mfgraphwiki/TitleIndex">
<link rel="Glossary" href="http://localhost/mfgraphwiki/WordIndex">
<link rel="Help" href="http://localhost/mfgraphwiki/HelpOnFormatting">
</head><body dir="ltr" lang="en">
<div id="page" dir="ltr" lang="en">
<table summary="" border="0" cellpadding="3" cellspacing="0" width="100%">
<tbody><tr>
<td id="topnav"><a href="http://localhost/mfgraphwiki/FrontPage.html">Home</a> ||
<a href="http://sourceforge.net/projects/mfgraph/">SourceForge.net Project Page</a></td>
</tr>
</tbody></table>
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line874">mfGraph Library version 0.4.3 (November 29, 2009) <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span></p><p class="line874">Copyright 2003-2009 Michael FÃ¶tsch <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line862">Homepage: <a class="http" href="http://mfgraph.sourceforge.net/">http://mfgraph.sourceforge.net/</a> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line862">Mail: <a class="mailto" href="mailto:foetsch@users.sourceforge.net">foetsch@users.sourceforge.net</a> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span></p><p class="line867"><strong>Table of Contents</strong> <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#Revision_History">Revision History</a></li><li>
<a href="#License">License</a></li><li>
<a href="#Prerequisites">Prerequisites</a></li><li>
<a href="#Build_Instructions_GNU.2BAC8-Linux">Build Instructions GNU/Linux</a></li><li>
<a href="#Build_Instructions_Windows">Build Instructions Windows</a><ol><li>
<a href="#Microsoft_Visual_C.2B-.2B--Specific">Microsoft Visual C++-Specific</a></li><li>
<a href="#Borland_C.2B-.2B-Builder-Specific">Borland C++Builder-Specific</a></li></ol></li><li>
<a href="#Programming_Examples">Programming Examples</a><ol><li>
<a href="#C.2B-.2B-">C++</a></li><li>
<a href="#Python">Python</a></li></ol></li><li>
<a href="#mfGraph_Editor_.28wx_graph_editor.py.29">mfGraph Editor (wx_graph_editor.py)</a></li><li>
<a href="#Known_Issues">Known Issues</a><ol><li>
<a href="#wx_graph_editor.py">wx_graph_editor.py</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></p><p class="line867">
</p><h1 id="Revision_History">Revision History</h1>
<span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><ul><li>0.4.3 (November 29, 2009): <span class="anchor" id="line-16"></span><ul><li>Support for XDOT 1.1 format (contributed by Jose M. Gonzalez) <span class="anchor" id="line-17"></span></li><li>Resolve various build issues with recent versions of GCC, SWIG, and Python <span class="anchor" id="line-18"></span></li></ul></li><li>0.4.2 (May 20, 2006): <span class="anchor" id="line-19"></span><ul><li>Added Visual Studio 2005 project files (".vcproj", ".sln") <span class="anchor" id="line-20"></span></li><li>Minor code fixes to resolve compiler errors and warnings in Visual Studio 2005 <span class="anchor" id="line-21"></span></li></ul></li><li>0.4.1 (August 2, 2005): <span class="anchor" id="line-22"></span><ul><li>Fix export feature (like when file is saved with .png extension) <span class="anchor" id="line-23"></span></li></ul></li><li>0.4.0 (July 17, 2005): <span class="anchor" id="line-24"></span><ul><li><p class="line862">New class <tt class="backtick">GraphWindow</tt> for wxPython ("pymfg/graph_window.py") <span class="anchor" id="line-25"></span></p><ul><li>wx.Window descendant for rendering graphs <span class="anchor" id="line-26"></span></li><li>Supports scrolling and zooming <span class="anchor" id="line-27"></span></li><li>Supports object selection using the mouse and keyboard <span class="anchor" id="line-28"></span></li><li>Provides event handlers for customizing the behavior <span class="anchor" id="line-29"></span></li><li>"contrib/pymfg_demo" demonstrates how to use the class <span class="anchor" id="line-30"></span></li></ul></li><li><p class="line862">New class <tt class="backtick">GraphDrawer</tt> for wxPython ("pymfg/graph_drawer.py") <span class="anchor" id="line-31"></span></p><ul><li>Draw a graph to a wx.DC <span class="anchor" id="line-32"></span></li></ul></li><li>All-new "mfGraph Editor" ("contrib/wx_graph_editor") <span class="anchor" id="line-33"></span><ul><li>wxPython application <span class="anchor" id="line-34"></span></li><li>Point-and-click editing of graphs <span class="anchor" id="line-35"></span></li><li>Front-end to DOT <span class="anchor" id="line-36"></span></li><li>Embedded DOT listing editor <span class="anchor" id="line-37"></span></li><li>Exports to Windows Metafiles (Microsoft Windows only) <span class="anchor" id="line-38"></span></li></ul></li><li><p class="line862">Added method <tt class="backtick">AsDrawObject()</tt> to Python class <tt class="backtick">pymfg.Object</tt> <span class="anchor" id="line-39"></span></p><ul><li><p class="line862">Allows type-casting from/to <tt class="backtick">Object/Node/Edge/Subgraph</tt> <span class="anchor" id="line-40"></span></p></li></ul></li><li>Added "contrib/windows_pymfg/setup.py" <span class="anchor" id="line-41"></span></li><li>Removed pre-compiled executables "contrib/mfc_demo.exe" and "contrib/mfgraphui.exe" <span class="anchor" id="line-42"></span></li></ul></li><li>0.3.0 (June 10, 2005): <span class="anchor" id="line-43"></span><ul><li>Ported to GNU Automake <span class="anchor" id="line-44"></span></li><li>Various code fixes for GNU/Linux <span class="anchor" id="line-45"></span></li><li>mfGraphUI bug fixes <span class="anchor" id="line-46"></span></li><li>Added MFC demo <span class="anchor" id="line-47"></span></li><li>Added wxPython demo <span class="anchor" id="line-48"></span></li></ul></li><li>0.2.0 (Oct 8, 2003): <span class="anchor" id="line-49"></span><ul><li>Added pymfg (Python bindings) <span class="anchor" id="line-50"></span></li></ul></li><li>0.1.0 (Sep 21, 2003): <span class="anchor" id="line-51"></span><ul><li>Initial version <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></li></ul></li></ul><p class="line867">
</p><h1 id="License">License</h1>
<span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line862">mfGraph is distributed under the terms of the <a class="http" href="http://www.fsf.org/licensing/licenses/lgpl.html">GNU Lesser General Public License</a>. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Exception:</strong></span> The demo application in <strong>contrib/bcb_demo</strong> is distributed under the terms of the <a class="http" href="http://www.fsf.org/licensing/licenses/gpl.html">GNU General Public License</a>. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></p></li></ul><p class="line867"><span class="anchor" id="Prerequisites"></span> <span class="anchor" id="line-60"></span>
</p><h1 id="Prerequisites-1">Prerequisites</h1>
<span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line874">To be able to build/run the mfGraph library and the demo applications, you might have to install additional software packages: <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p><p class="line867"><strong>Build-Time Requirements:</strong> <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span></p><ul><li><p class="line891"><strong><a class="http" href="http://www.doxygen.org/">Doxygen</a></strong> <span class="anchor" id="line-67"></span></p><ul><li><p class="line891"><strong>Required for:</strong> To rebuild the source code documentation in the <strong>doc</strong> directory <span class="anchor" id="line-68"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> 1.4.1 <span class="anchor" id="line-69"></span></p></li><li><p class="line891"><strong>How to disable:</strong> Doxygen is only required for running <strong>"make dist"</strong> <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></p></li></ul></li><li class="gap"><p class="line891"><strong><a class="http" href="http://www.gnu.org/software/flex/flex.html">Flex</a>/<a class="http" href="http://www.gnu.org/software/bison/bison.html">Bison</a></strong> <span class="anchor" id="line-72"></span></p><ul><li><p class="line891"><strong>Required for:</strong>  To rebuild the DOT parser if you modify <strong>src/mfg_bison.yy</strong> and/or <strong>src/mfg_flex.ll</strong> <span class="anchor" id="line-73"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> Bison 2.4.1; Flex 2.5.4 <span class="anchor" id="line-74"></span></p></li><li><p class="line891"><strong>How to disable:</strong> Not required if you don't modify the parser. <span class="anchor" id="line-75"></span></p><ul><li style="list-style-type: none;"><p class="line891"><strong>Visual C++</strong>: In the project <strong>contrib\windows_lib\mfgraph_lib.dsp</strong>, you might want to disable the Custom-Build Step for the files <strong>mfg_flex.ll</strong> and <strong>mfg_bison.yy</strong>. <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></p></li></ul></li></ul></li><li class="gap"><p class="line891"><strong><a class="http" href="http://www.python.org/">Python</a></strong> <span class="anchor" id="line-78"></span></p><ul><li><p class="line891"><strong>Required for:</strong> To build the "pymfg" Python extension <span class="anchor" id="line-79"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> 2.6 (GNU/Linux) / 2.3 (Windows) <span class="anchor" id="line-80"></span></p></li><li><p class="line891"><strong>How to disable:</strong> - <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span></p></li></ul></li><li class="gap"><p class="line891"><strong><a class="http" href="http://www.swig.org/">Swig</a></strong> <span class="anchor" id="line-83"></span></p><ul><li><p class="line891"><strong>Required for:</strong> To build the "pymfg" Python extension if you modify any of the <strong>*.i</strong> files in the <strong>pymfg</strong> directory <span class="anchor" id="line-84"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> 1.3.36 <span class="anchor" id="line-85"></span></p><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Attention:</strong></span>
SWIG versions after 1.3.21 cause compilation errors with Visual C++
(and maybe other compilers). Download the older 1.3.21 instead! <span class="anchor" id="line-86"></span></p></li></ul></li><li><p class="line891"><strong>How to disable:</strong> Not required if you don't modify the <tt class="backtick">.i</tt> files. <span class="anchor" id="line-87"></span></p><ul><li style="list-style-type: none;"><p class="line891"><strong>Visual C++</strong>: In the project <strong>contrib\windows_pymfg\pymfg.dsp</strong>, you may disable the Custom-Build Step for file <strong>swig.i</strong>. <span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span></p></li></ul></li></ul></li></ul><p class="line867"><strong>Run-Time Requirements:</strong> <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span></p><ul><li><p class="line891"><strong><a class="http" href="http://www.wxpython.org/">wxPython</a></strong> <span class="anchor" id="line-92"></span></p><ul><li><p class="line891"><strong>Required for:</strong> To run any of the wxPython demo applications (<strong>contrib/pymfg_demo</strong>, <strong>contrib/wx_graph_editor</strong>) <span class="anchor" id="line-93"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> 2.8.10.1 (GNU/Linux) / 2.4.1.2 (Windows) <span class="anchor" id="line-94"></span></p></li><li><p class="line891"><strong>How to disable:</strong> - <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span></p></li></ul></li><li class="gap"><p class="line891"><strong><a class="http" href="http://www.research.att.com/sw/tools/graphviz">GraphViz</a></strong> <span class="anchor" id="line-97"></span></p><ul><li><p class="line891"><strong>Required for:</strong> To layout DOT graphs. Invoked by some of the demo applications (<strong>contrib/wx_graph_editor</strong>, <strong>contrib/bcb_demo</strong>, <strong>contrib/mfgraphui.exe</strong>). <span class="anchor" id="line-98"></span></p></li><li><p class="line891"><strong>Version I tested with:</strong> 2.20.2 <span class="anchor" id="line-99"></span></p></li><li><p class="line891"><strong>How to disable:</strong> - <span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span></p></li></ul></li></ul><p class="line867">
</p><h1 id="Build_Instructions_GNU.2BAC8-Linux">Build Instructions GNU/Linux</h1>
<span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><p class="line862">In the <strong>mfgraph-0.4</strong> directory, run these shell commands: <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span></p><p class="line867"><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span></p><pre>mkdir build
cd build
../configure
make
make install</pre><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><ul><li style="list-style-type: none;"><p class="line862">If you haven't worked with <strong>"configure"</strong> before, read the file <strong>"INSTALL"</strong> or run <strong>"configure --help"</strong> for a list of options. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span></p><p class="line862">Users of KDevelop users can also open <strong>mfgraph-0.4/mfgraph.kdevelop</strong> and build in the IDE. <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span></p></li></ul><p class="line874">The following items will be installed: <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span></p><ul><li><p class="line862">C++ header files (installed to, e.g., <strong>/usr/include/mfgraph</strong>) <span class="anchor" id="line-120"></span></p></li><li><p class="line891"><tt class="backtick">libmfgraph</tt> shared library (installted to, e.g., <strong>/usr/lib</strong>) <span class="anchor" id="line-121"></span></p></li><li><p class="line862">Python package "mfgraph" (installed to, e.g., <strong>/usr/lib/Python2.4/Lib/site-packages/mfgraph</strong>) <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span></p><ul><li style="list-style-type: none;"><p class="line862">To change the installation directory, use <strong>"configure --prefix"</strong>, as always. <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span></p></li></ul></li></ul><p class="line874">To test the installation, try this: <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span></p><ul><li><p class="line862">Run <strong>"make check"</strong> <span class="anchor" id="line-128"></span></p></li><li><p class="line862">Run the Python demo <strong>contrib/pymfg_demo/pymfg_demo.py</strong> (requires wxPython!) <span class="anchor" id="line-129"></span></p></li><li><p class="line862">Run the Python demo <strong>contrib/wx_graph_editor/wx_graph_editor.py</strong> (requires wxPython and the G<tt class="backtick"></tt>raphViz package!) <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span></p></li></ul><p class="line867">
</p><h1 id="Build_Instructions_Windows">Build Instructions Windows</h1>
<span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line867"><img alt="/!\" src="Readme_files/alert.png" title="/!\" height="15" width="15"> <strong>I do not give support for building on Windows any longer.</strong> <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span></p><p class="line874">I tested the Windows build with Microsoft Visual C++ 6.0 and Borland C++Builder 5. <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span></p><p class="line862">If you need Flex/Bison (see <a href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=print#Prerequisites">Prerequisites</a>), you can download them from here: <span class="anchor" id="line-138"></span></p><ul><li><p class="line891"><a class="http" href="http://gnuwin32.sourceforge.net/packages/flex.htm">http://gnuwin32.sourceforge.net/packages/flex.htm</a> <span class="anchor" id="line-139"></span></p></li><li><p class="line891"><a class="http" href="http://gnuwin32.sourceforge.net/packages/bison.htm">http://gnuwin32.sourceforge.net/packages/bison.htm</a> <span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span></p></li></ul><p class="line867">
</p><h2 id="Microsoft_Visual_C.2B-.2B--Specific">Microsoft Visual C++-Specific</h2>
<span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><ol type="1"><li><p class="line862">If you want/need to run Flex/Bison/SWIG, add the paths to <strong>flex.exe</strong>, <strong>bison.exe</strong>, and <strong>swig.exe</strong> in "Tools" -&gt; "Options" <span class="anchor" id="line-144"></span></p><ul><li><p class="line891"><strong>VC++ 6.0:</strong> "Tools" -&gt; "Options" -&gt; "Directories" <span class="anchor" id="line-145"></span></p></li><li><p class="line891"><strong>VS 2005:</strong> "Tools" -&gt; "Options" -&gt; "Projects and Solutions" -&gt; "VC++ Directories" <span class="anchor" id="line-146"></span></p></li><li><p class="line862">See <a href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=print#Prerequisites">Prerequisites</a> for information on how you can avoid having to run these tools. <span class="anchor" id="line-147"></span></p></li></ul></li><li><p class="line862">If you want to build the Python extension (<strong>contrib\windows_pymfg</strong>): <span class="anchor" id="line-148"></span></p><ol type="1"><li><p class="line862">Add the path to <strong>Python.h</strong> in "Tools" -&gt; "Options" (typically <strong>C:\Python2x\include</strong>) <span class="anchor" id="line-149"></span></p></li><li><p class="line862">Add the path to <strong>python2<em>x</em>.lib</strong> in "Tools" -&gt; "Options" (typically <strong>C:\Python2x\libs</strong>) <span class="anchor" id="line-150"></span></p></li></ol></li><li><p class="line862">Open the workspace <strong>contrib\mfc_demo\mfc_demo.dsw</strong> (for VC++ 6.0) or <strong>mfc_demo.sln</strong> (for VS 2005) and build the project "mfc_demo". <span class="anchor" id="line-151"></span></p><ul><li><p class="line862">This will also build the mfGraph static library in <strong>contrib\windows_lib</strong> <span class="anchor" id="line-152"></span></p></li><li>Run the application to test the library <span class="anchor" id="line-153"></span></li><li><p class="line891"><img alt="/!\" src="Readme_files/alert.png" title="/!\" height="15" width="15"> <strong>VS 2005:</strong> If you are using VS 2005 Express and have no MFC, use the solution <strong>contrib\windows_lib\mfgraph_lib.sln</strong> instead. Sorry, no test application specifically for VS 2005. <span class="anchor" id="line-154"></span></p></li></ul></li><li>To build the Python extension: <span class="anchor" id="line-155"></span><ol type="1"><li><p class="line862">Open the workspace <strong>contrib\windows_pymfg\pymfg.dsw</strong> (for VC++ 6.0) or <strong>pymfg.sln</strong> (for VS 2005) and build the project "pymfg" <span class="anchor" id="line-156"></span></p></li><li><p class="line862">To install the Python extension DLL, run <strong>"setup.py install"</strong> on the command prompt <span class="anchor" id="line-157"></span></p></li><li>To test, run the Python demos: <span class="anchor" id="line-158"></span><ul><li><p class="line891"><strong>contrib\pymfg_demo\pymfg_demo.py</strong> (requires wxPython!) <span class="anchor" id="line-159"></span></p></li><li><p class="line891"><strong>contrib\wx_graph_editor\wx_graph_editor.py</strong> (requires wxPython and the G<tt class="backtick"></tt>raphViz package!) <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span></p></li></ul></li></ol></li></ol><p class="line867"><strong>Issues (mostly for package maintainers):</strong> <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span></p><ul><li><p class="line862">The
GNU/Linux Automake build creates files with a ".cc" extension when
flex/bison is run. Visual C++ 6.0 does not know how to handle such
files. As I don't know how to tell Automake to name these files ".cpp",
I simply copied the generated files to <strong>contrib\windows_lib</strong>
and changed the extension from ".cc" to ".cpp". (More precisely,
there's a make rule "dist-hook" in the Automake build that does this
automatically.) <span class="anchor" id="line-164"></span></p><ul><li style="list-style-type: none;">There's a (minor) problem with this: <span class="anchor" id="line-165"></span><ul><li>The
"#line" directives in the files still refer to the original ".cc" file,
which confuses the IDE when there's a compiler error or when debugging.
<span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span></li></ul></li></ul></li></ul><p class="line867">
</p><h2 id="Borland_C.2B-.2B-Builder-Specific">Borland C++Builder-Specific</h2>
<span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><p class="line862">Before you can build or run the mfGraph UI Sample Application (<strong>contrib\bcb_demo</strong>), you must <span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span></p><ul><li><p class="line862">Download and install G<tt class="backtick"></tt>raphViz <span class="anchor" id="line-172"></span></p></li><li><p class="line862">Make sure that the path to DOT.EXE is in the PATH environment variable (usually, that's <strong>C:\Program Files\ATT\G<tt class="backtick"></tt>raphViz\bin</strong>) <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span></p></li></ul><p class="line874">To build the mfGraphUI Sample Application: <span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span></p><ol type="1"><li><p class="line862">Open the project group <strong>contrib\bcb_demo\P<tt class="backtick"></tt>rojectGroup1.bpg</strong> <span class="anchor" id="line-177"></span></p></li><li>Build the project "mfgraph_lib" <span class="anchor" id="line-178"></span></li><li>Build and install the package "mf"; new VCL components will be registered <span class="anchor" id="line-179"></span></li><li>Build the project "mfgraphui" <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span></li></ol><p class="line874">To build the Python extension DLL: <span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span></p><ol type="1"><li><p class="line862">Convert the Python import library <strong>python23.lib</strong> (typically in <strong>C:\Python23\libs</strong>) to OMF format, e.g.: <span class="anchor" id="line-184"></span></p><ul><li style="list-style-type: none;"><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><pre>&gt; cd C:\Python23\libs
&gt; C:\Program Files\Borland\CBuilder5\bin\coff2omf.exe python23.lib python23_omf.lib</pre><span class="anchor" id="line-188"></span></li></ul></li><li><p class="line862">Open the project group <strong>contrib\bcb_pymfg\P<tt class="backtick"></tt>rojectGroup1.bpg</strong> <span class="anchor" id="line-189"></span></p></li><li><p class="line862">If Python is not installed in <strong>C:\Python23</strong> (for example, because you are using a different version), you will have to modify the paths in the Project Options accordingly <span class="anchor" id="line-190"></span></p></li><li><p class="line862">If <strong>python23_omf.lib</strong> is not in <strong>C:\Python23\libs</strong>, remove <strong>python23_omf.lib</strong> from the project and re-add it from its actual location <span class="anchor" id="line-191"></span></p></li><li>Build the project "_pymfg" <span class="anchor" id="line-192"></span></li><li><p class="line862">To install the Python extension DLL, run <strong>"setup.py install"</strong> on the command prompt. <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span></p></li></ol><p class="line867"><strong>Issues:</strong> <span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span></p><ul><li><p class="line862">When building <strong>mf_release.bpk</strong> from an unpatched version of BCB 5, I get this linker error: <span class="anchor" id="line-197"></span></p><ul><li style="list-style-type: none;"><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><pre>[Linker Error] Unresolved external '__fastcall Graphics::TMetafileCanvas::TMetafileCanvas(
Graphics::TMetafile *, int)' referenced from C:\PROGRAM FILES\BORLAND\CBUILDER5\LIB\RELEASE\VCLE50.LIB|_t_Graph</pre><span class="anchor" id="line-201"></span><p class="line862">A workaround is to modify the VCL header <strong>graphics.hpp:</strong> <span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span></p><pre>Change this:
    __fastcall TMetafileCanvas(TMetafile* AMetafile, HDC ReferenceDevice);
To this:
    __fastcall TMetafileCanvas(TMetafile* AMetafile, unsigned int ReferenceDevice);</pre><span class="anchor" id="line-208"></span>This is a known bug in BCB. Search the newsgroup archives for more info. <span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span></li></ul></li><li class="gap"><p class="line862">When you open the project <strong>mfgraphui_release.bpr</strong>, you might get this error: <span class="anchor" id="line-211"></span></p><ul><li style="list-style-type: none;"><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><pre>Error creating form: Error reading mfGraph1-&gt;DotListing.Strings: DOT.EXE could not be run..</pre><span class="anchor" id="line-214"></span>Solution: Before you open the project, make sure that DOT.EXE is on the path. <span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span></li></ul></li></ul><p class="line867">
</p><h1 id="Programming_Examples">Programming Examples</h1>
<span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><p class="line867">
</p><h2 id="C.2B-.2B-">C++</h2>
<span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><p class="line862">(Those parts that make use of class <tt class="backtick">mfg::GraphDrawer</tt> are specific to Microsoft Windows.) <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span></p><p class="line874">This is a simple usage example to demonstrate <span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span></p><ul><li><p class="line862">using the <tt class="backtick">mfg::DrawGraph</tt> class to manipulate graphs in memory <span class="anchor" id="line-225"></span></p></li><li>invoking DOT.EXE to convert DOT listings into the XDOT format <span class="anchor" id="line-226"></span></li><li><p class="line862">using the <tt class="backtick">mfg::GraphDrawer</tt> class to draw graphs to device contexts <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span></p></li></ul><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Note:</strong></span> You can find the API docs in <strong>doc/html/index.htm</strong>. <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span></p></li></ul><p class="line874">We would like to render the following graph: <span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span></p><p class="line867"><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span></p><pre>    digraph G {
        a -&gt; x [color=red]
        subgraph {
            b [style=filled fillcolor=green]
        }
        a -&gt; b
    }</pre><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><p class="line867"><strong>Step 1.</strong> Create a new application and either add mfgraph_lib.lib or add all CPP files in the mfGraph root directory. <span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span></p><p class="line867"><strong>Step 2.</strong> Create the graph using the <tt class="backtick">mfg::DrawGraph</tt> class as follows: <span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span></p><p class="line867"><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c))
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        s.className = 'LineNumber'
        s.appendChild(document.createTextNode(nformat(n,4,' ')));
        n += nstep;
        if (l.childNodes.length)
          l.insertBefore(s, l.firstChild)
        else
          l.appendChild(s)
      }
      l = l.nextSibling;
    }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c))
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-63757963e2b80296553b3ad6a2d299ab635eae24\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-63757963e2b80296553b3ad6a2d299ab635eae24', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-63757963e2b80296553b3ad6a2d299ab635eae24" lang="en"><span class="line"><span class="LineNumber">   1 </span><span class="Preprc">    #include "mfg_draw_graph.h"</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="Preprc">    #include "mfg_graph_drawer.h"</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="ResWord2">using</span> <span class="ResWord2">namespace</span> <span class="ID">mfg</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="SPChar">.</span><span class="SPChar">.</span><span class="SPChar">.</span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ID">DrawGraph</span> <span class="ID">g</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ID">Node</span><span class="SPChar">*</span> <span class="ID">a</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateNode</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   7 </span>    <span class="ID">Node</span><span class="SPChar">*</span> <span class="ID">x</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateNode</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   8 </span>    <span class="ID">Edge</span><span class="SPChar">*</span> <span class="ID">ax</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateEdge</span><span class="SPChar">(</span><span class="ID">a</span><span class="SPChar">,</span> <span class="ID">x</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   9 </span>    <span class="ID">ax</span><span class="SPChar">-</span><span class="SPChar">&gt;</span><span class="ID">Attribs</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">[</span><span class="String">"color"</span><span class="SPChar">]</span> <span class="SPChar">=</span> <span class="String">"red"</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ID">Subgraph</span><span class="SPChar">*</span> <span class="ID">s</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateSubgraph</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">  11 </span>    <span class="ID">Node</span><span class="SPChar">*</span> <span class="ID">b</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateNode</span><span class="SPChar">(</span><span class="ID">s</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">  12 </span>    <span class="ID">b</span><span class="SPChar">-</span><span class="SPChar">&gt;</span><span class="ID">Attribs</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">[</span><span class="String">"style"</span><span class="SPChar">]</span> <span class="SPChar">=</span> <span class="String">"filled"</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">  13 </span>    <span class="ID">b</span><span class="SPChar">-</span><span class="SPChar">&gt;</span><span class="ID">Attribs</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">[</span><span class="String">"fillcolor"</span><span class="SPChar">]</span> <span class="SPChar">=</span> <span class="String">"green"</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">  14 </span>    <span class="ID">Edge</span><span class="SPChar">*</span> <span class="ID">ab</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">.</span><span class="ID">CreateEdge</span><span class="SPChar">(</span><span class="ID">a</span><span class="SPChar">,</span> <span class="ID">b</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><p class="line867"><strong>Step 3.</strong>
Write the graph to a DOT file on disk. (We could have written the DOT
listing to a file directly, but it's more interesting this way.) <span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span></p><p class="line867"><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a63a8849a00d48ecbcbb2312a1332f23ec240fcd\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-a63a8849a00d48ecbcbb2312a1332f23ec240fcd', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-a63a8849a00d48ecbcbb2312a1332f23ec240fcd" lang="en"><span class="line"><span class="LineNumber">   1 </span><span class="Preprc">    #include &lt;iostream&gt;</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="SPChar">.</span><span class="SPChar">.</span><span class="SPChar">.</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="Special">std</span><span class="SPChar">:</span><span class="SPChar">:</span><span class="ID">ofstream</span> <span class="ID">dot</span><span class="SPChar">(</span><span class="String">"temp.dot"</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ID">g</span><span class="SPChar">.</span><span class="ID">PrintAsDot</span><span class="SPChar">(</span><span class="ID">dot</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><p class="line867"><strong>Step 4.</strong>
Have DOT.EXE convert the DOT listing to XDOT format. (This is the
format that contains information about the graphic primitives such as
ellipses and BÃ©zier curves.) <span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span></p><p class="line867"><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-100914344c877b9cb61b2154778d9e9a8d8be11f\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-100914344c877b9cb61b2154778d9e9a8d8be11f', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-100914344c877b9cb61b2154778d9e9a8d8be11f" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ID">system</span><span class="SPChar">(</span><span class="String">"dot -Txdot -otemp.xdot temp.dot"</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   2 </span>        <span class="Comment">// requires the GraphViz package</span></span>
</pre></div><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><p class="line867"><strong>Step 5. Windows only*.</strong> Load the XDOT graph from the newly created file and have <tt class="backtick">mfg::GraphDrawer</tt> render the graph: <span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span></p><p class="line867"><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-d8611b373b0b79b87803cee49ad6405e0899affd\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-d8611b373b0b79b87803cee49ad6405e0899affd', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-d8611b373b0b79b87803cee49ad6405e0899affd" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ID">HDC</span> <span class="ID">hdc</span><span class="SPChar">;</span>    <span class="Comment">// assumed to contain a valid device context</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="SPChar">.</span><span class="SPChar">.</span><span class="SPChar">.</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="Special">std</span><span class="SPChar">:</span><span class="SPChar">:</span><span class="ID">ifstream</span> <span class="ID">xdot</span><span class="SPChar">(</span><span class="String">"temp.xdot"</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ID">g</span><span class="SPChar">.</span><span class="ID">LoadFromXdot</span><span class="SPChar">(</span><span class="ID">xdot</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ID">GraphDrawer</span><span class="SPChar">:</span><span class="SPChar">:</span><span class="ID">DrawGraph</span><span class="SPChar">(</span><span class="ID">hdc</span><span class="SPChar">,</span> <span class="SPChar">&amp;</span><span class="ID">g</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><ul><li><p class="line862">) To render the graph on other platforms, you can use the Python module <tt class="backtick">mfgraph.graph_drawer</tt>, which uses wxPython. <span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span></p></li></ul><p class="line874">Run the application. <span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span></p><p class="line867">
</p><h2 id="Python">Python</h2>
<span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><p class="line874">This is a port of the preceding C++ example using the "pymfg" Python extension. <span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span></p><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Note:</strong></span> Some functions/classes/methods behave differently in Python than in C++. In addition to the docs in <strong>doc/html/index.htm</strong>, see the files <strong>pymfg/*.i</strong> for more info.  <span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span></p></li></ul><p class="line867"><strong>Step 1.</strong> Create the graph. <span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span></p><p class="line867"><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-337d72c56b3103f64710e6f9740b6609462e0c15\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-337d72c56b3103f64710e6f9740b6609462e0c15', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-337d72c56b3103f64710e6f9740b6609462e0c15" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ResWord">from</span> <span class="ID">mfgraph</span> <span class="ResWord">import</span> <span class="ID">pymfg</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="ID">g</span> <span class="Operator">=</span> <span class="ID">pymfg</span><span class="Operator">.</span><span class="ID">DrawGraph</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="ID">a</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateNode</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ID">x</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateNode</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   5 </span>    <span class="ID">ax</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateEdge</span><span class="Operator">(</span><span class="ID">a</span><span class="Operator">,</span> <span class="ID">x</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   6 </span>    <span class="ID">ax</span><span class="Operator">.</span><span class="ID">Attribs</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">[</span><span class="String">"color"</span><span class="Operator">]</span> <span class="Operator">=</span> <span class="String">"red"</span></span>
<span class="line"><span class="LineNumber">   7 </span>    <span class="ID">s</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateSubgraph</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>    <span class="ID">b</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateNode</span><span class="Operator">(</span><span class="ID">s</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>    <span class="ID">b</span><span class="Operator">.</span><span class="ID">Attribs</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">[</span><span class="String">"style"</span><span class="Operator">]</span> <span class="Operator">=</span> <span class="String">"filled"</span></span>
<span class="line"><span class="LineNumber">  10 </span>    <span class="ID">b</span><span class="Operator">.</span><span class="ID">Attribs</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">[</span><span class="String">"fillcolor"</span><span class="Operator">]</span> <span class="Operator">=</span> <span class="String">"green"</span></span>
<span class="line"><span class="LineNumber">  11 </span>    <span class="ID">ab</span> <span class="Operator">=</span> <span class="ID">g</span><span class="Operator">.</span><span class="ID">CreateEdge</span><span class="Operator">(</span><span class="ID">a</span><span class="Operator">,</span> <span class="ID">b</span><span class="Operator">)</span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line867"><strong>Step 2.</strong> Write the graph to a DOT file on disk. <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span></p><p class="line867"><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4aa8a2db745889bc64ade1f66e0fe571a253be5a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-4aa8a2db745889bc64ade1f66e0fe571a253be5a', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-4aa8a2db745889bc64ade1f66e0fe571a253be5a" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ID">dot</span> <span class="Operator">=</span> <span class="ID">file</span><span class="Operator">(</span><span class="String">"temp.dot"</span><span class="Operator">,</span> <span class="String">"w"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="ID">dot</span><span class="Operator">.</span><span class="ID">write</span><span class="Operator">(</span><span class="ID">g</span><span class="Operator">.</span><span class="ID">PrintAsDot</span><span class="Operator">(</span><span class="Operator">)</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="ID">dot</span><span class="Operator">.</span><span class="ID">close</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><p class="line867"><strong>Step 3.</strong> Have DOT.EXE convert the DOT listing to XDOT format. <span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span></p><p class="line867"><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4dfde18b8560d43b642c63352ce2d51654e99794\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-4dfde18b8560d43b642c63352ce2d51654e99794', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-4dfde18b8560d43b642c63352ce2d51654e99794" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ResWord">import</span> <span class="ID">os</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="Operator">.</span><span class="Operator">.</span><span class="Operator">.</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="ID">os</span><span class="Operator">.</span><span class="ID">system</span><span class="Operator">(</span><span class="String">"dot -Txdot -otemp.xdot temp.dot"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   4 </span>        <span class="Comment"># requires the GraphViz package</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><p class="line867"><strong>Step 4. wxPython only.</strong> Load the XDOT graph from the newly created file and have <tt class="backtick">mfgraph.graph_window.GraphWindow</tt> render the graph: <span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span></p><p class="line867"><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-395a4166d9b2e48c7c1db803a11c0e5f9abc1fa9\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-395a4166d9b2e48c7c1db803a11c0e5f9abc1fa9', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-395a4166d9b2e48c7c1db803a11c0e5f9abc1fa9" lang="en"><span class="line"><span class="LineNumber">   1 </span>    <span class="ResWord">from</span> <span class="ID">mfgraph</span><span class="Operator">.</span><span class="ID">graph_window</span> <span class="ResWord">import</span> <span class="ID">GraphWindow</span></span>
<span class="line"><span class="LineNumber">   2 </span>    <span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   3 </span>    <span class="Operator">.</span><span class="Operator">.</span><span class="Operator">.</span></span>
<span class="line"><span class="LineNumber">   4 </span>    <span class="ResWord">class</span> <span class="ID">MyFrame</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   5 </span>        <span class="ResWord">def</span> <span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">   6 </span>            <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">.</span><span class="ID">__init__</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"pymfg Example"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span>            <span class="ID">graph_window</span> <span class="Operator">=</span> <span class="ID">GraphWindow</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="ID">style</span><span class="Operator">=</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">SUNKEN_BORDER</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span>            <span class="ID">graph_window</span><span class="Operator">.</span><span class="ID">XdotListing</span> <span class="Operator">=</span> <span class="ID">file</span><span class="Operator">(</span><span class="String">"temp.xdot"</span><span class="Operator">)</span><span class="Operator">.</span><span class="ID">read</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span>            <span class="ID">graph_window</span><span class="Operator">.</span><span class="ID">SetFocus</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span></span>
<span class="line"><span class="LineNumber">  11 </span>    <span class="ResWord">class</span> <span class="ID">MyApp</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">PySimpleApp</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  12 </span>        <span class="ResWord">def</span> <span class="ID">OnInit</span><span class="Operator">(</span><span class="ID">self</span><span class="Operator">)</span><span class="Operator">:</span></span>
<span class="line"><span class="LineNumber">  13 </span>            <span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">MyFrame</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span>            <span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span>            <span class="ID">self</span><span class="Operator">.</span><span class="ID">SetTopWindow</span><span class="Operator">(</span><span class="ID">frame</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span>            <span class="ResWord">return</span> <span class="ID">True</span></span>
<span class="line"><span class="LineNumber">  17 </span></span>
<span class="line"><span class="LineNumber">  18 </span>    <span class="ID">app</span> <span class="Operator">=</span> <span class="ID">MyApp</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  19 </span>    <span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><p class="line874">You
can click on objects to select them, Ctrl+click to select multiple
objects. Press TAB to cycle through the objects. Press Numpad +/- to
zoom. <span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span></p><p class="line867">
</p><h1 id="mfGraph_Editor_.28wx_graph_editor.py.29">mfGraph Editor (wx_graph_editor.py)</h1>
<span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><p class="line874">Before you can use the mfGraph Editor, you must <span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span></p><ul><li><p class="line862">Download and install G<tt class="backtick"></tt>raphViz from <a class="http" href="http://www.research.att.com/sw/tools/graphviz/download.html">http://www.research.att.com/sw/tools/graphviz/download.html</a> <span class="anchor" id="line-363"></span></p></li><li>Either make sure that the DOT executable ("dot.exe" on Windows, "dot" on GNU/Linux) is on the search path <span class="anchor" id="line-364"></span></li><li><p class="line862">Or place DOT.EXE into the directory <strong>"contrib/wx_graph_editor"</strong> <span class="anchor" id="line-365"></span></p></li><li><p class="line862">Or set the variable "DOT_EXECUTABLE" in <strong>wx_graph_editor.py</strong> to an absolute path <span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span></p></li><li class="gap">Make sure that you are using Python 2.3 or later and wxPython 2.4 or later <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span></li></ul><p class="line862">Run the application with <strong>"python wx_graph_editor.py"</strong> in the directory <strong>contrib/wx_graph_editor</strong>. <span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span></p><p class="line874">The menu and toolbar commands should be self-explaining. A few hints: <span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span></p><ul><li><p class="line862">You can find a number of DOT files to play around with as part of the G<tt class="backtick"></tt>raphViz installation: <span class="anchor" id="line-374"></span></p><ul><li><p class="line862">Windows: <strong>C:\Program Files\ATT\G<tt class="backtick"></tt>raphViz\graphs</strong> <span class="anchor" id="line-375"></span></p></li><li><p class="line862">GNU/Linux: <strong>/usr/share/graphviz/graphs</strong> <span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span></p></li></ul></li><li class="gap">See the DOT manual for information about DOT syntax: <span class="anchor" id="line-378"></span><ul><li><p class="line862">Windows: <strong>C:\Program Files\ATT\G<tt class="backtick"></tt>raphViz\doc\dotguide.pdf</strong> <span class="anchor" id="line-379"></span></p></li><li><p class="line862">GNU/Linux: <strong>/usr/share/doc/packages/graphviz/dotguide.pdf</strong> <span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span></p></li></ul></li><li class="gap"><p class="line862">To
save the graph in one of the formats supported by DOT, use "File" -&gt;
"Save As..." and specify one of the known filename extensions from the
"File Types" drop-down list box. <span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span></p><ul><li style="list-style-type: none;"><p class="line891"><strong>Note:</strong>
Basically, every file type supported by DOT's "-T" command line option
works as a filename extension: "-Tpng" -&gt; ".png", "-Tcanon" -&gt;
".canon", ... See the DOT manual for a list of supported formats. <span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span></p></li></ul></li><li class="gap">You can right-click on the attributes grid to the left to open a context menu: <span class="anchor" id="line-386"></span><ul><li><p class="line891"><strong>"Propagate Attribute"</strong>:
When you select multiple objects by Ctrl-clicking on them, the
attributes of the last selected object show up in the grid. To set the
value of a specific attribute in <span class="u">all</span> selected objects, right-click on the attribute, then click "Propagate Attribute". <span class="anchor" id="line-387"></span></p><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Note:</strong></span>
You can achieve the same thing in the Listing editor, for example by
setting a default attribute value for the entire graph or by using
subgraphs. See the DOT manual for more information. <span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span></p></li></ul></li></ul></li></ul><p class="line862">See also <a href="http://localhost/mfgraphwiki/ReleaseNotes0.4.3?action=print#KnownIssuesGraphEd">Known Issues</a> for <strong>wx_graph_editor.py</strong>. <span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span></p><p class="line867">
</p><h1 id="Known_Issues">Known Issues</h1>
<span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><p class="line862">See also the <a class="http" href="http://sourceforge.net/tracker/?group_id=141549&amp;atid=749853">Bug List on SF.net</a>. <span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span></p><p class="line867"><span class="anchor" id="KnownIssuesGraphEd"></span> <span class="anchor" id="line-396"></span>
</p><h2 id="wx_graph_editor.py">wx_graph_editor.py</h2>
<span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><ul><li>Error message at startup: "Cannot convert from the charset '@LOCALE,UTF-8,ISO-8859-15,CP1252'!" <span class="anchor" id="line-399"></span><ul><li style="list-style-type: none;"><p class="line862">Does
not happen with all versions of wxPython. Just click OK. Does not seem
to be my fault, as it also happens with the wxPython Demo Application
from <a class="http" href="http://www.wxpython.org/">http://www.wxpython.org</a>. <span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span></p></li></ul></li><li class="gap">wxPython 2.6 on GNU/Linux (wxGTK): The drop-down list boxes in the attributes grid don't seem to work <span class="anchor" id="line-402"></span><ul><li style="list-style-type: none;">(Same
thing happens with the wxPython Demo Application.) Clicking on items
has no effect. Using the keyboard does work: Press F2 to get into edit
mode, then press Up/Down to scroll through the items. <span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span></li></ul></li><li class="gap"><p class="line862">XDOT attributes such as <strong>"_draw_"</strong>, <strong>"lp"</strong>, <strong>"bb"</strong> show up in the attributes grid and confuse the user <tt class="backtick">;-)</tt> <span class="anchor" id="line-405"></span></p><ul><li style="list-style-type: none;"><p class="line862">Setting these attributes has no effect because they are immediately re-generated when DOT is run. <span class="u">There is one exception:</span>
"width" and "height" are often not specified by the user either, but
are generated when DOT is run for the first time. After that, DOT
honors these attributes as a <span class="u">minimum node size</span>.
When you change the "label" attribute to a shorter string and a node
does not seem to shrink accordingly, right-click the "width" and
"height" attributes and click "Delete Attribute" to reset them. <span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span></p></li></ul></li><li class="gap">Subgraphs cannot be edited in the graphical view <span class="anchor" id="line-408"></span><ul><li style="list-style-type: none;">For grouping nodes into subgraphs, please use the Listing editor. See the DOT manual for more information on subgraphs. <span class="anchor" id="line-409"></span><ul><li style="list-style-type: none;"><p class="line891"><span class="u"><strong>Note:</strong></span>
Subgraphs can be selected when you traverse objects using
Ctrl+Left/Ctrl+Right. Because subgraphs are usually invisible, it might
look like pressing Ctrl+Left/Ctrl+Right has no effect. Just press
Ctrl+Left/Ctrl+Right until you reach a node/edge. <span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span></p></li></ul></li></ul></li><li class="gap">Ctrl+Left/Ctrl+Right does not traverse nodes/edges in the order users expect <span class="anchor" id="line-412"></span><ul><li style="list-style-type: none;"><p class="line862">The function "_C<tt class="backtick"></tt>ompareRects" in <strong>pymfg/object_selection.py</strong>
determines the ordering of objects according to their graphical
position. Currently, I'm trying to sort from top to bottom and from
left to right, which often doesn't look right for objects that are very
wide or very high (such as long edges or clusters). I'd be glad to
accept your patches if you come up with a better solution. <span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span></p></li></ul></li><li class="gap">Unicode: DOT listings may only use the ISO-8859-1 encoding <span class="anchor" id="line-415"></span><ul><li style="list-style-type: none;"><p class="line862">I
don't know what else DOT is able to handle. However, if you get a
Unicode exception of some sort or non-ASCII labels don't show up in the
editor, you might want to check the methods "_<tt class="backtick"></tt>_E<tt class="backtick"></tt>ncodeStr" and "_<tt class="backtick"></tt>_D<tt class="backtick"></tt>ecodeStr" in the file <strong>contrib/wx_graph_editor/wx_graph_editor.py</strong>. <span class="anchor" id="line-416"></span></p></li></ul></li></ul><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" dir="ltr" lang="en">ReleaseNotes0.4.3  (last edited 2009-11-28 21:34:02 by <span title="RealMike @ localhost[127.0.0.1]"><a href="http://localhost/mfgraphwiki/RealMike?action=print" title="RealMike @ localhost[127.0.0.1]">RealMike</a></span>)</p>
<hr>
<p id="copyarea"> Copyright Â© 2003-2009 <a class="external" href="mailto:foetsch@users.sourceforge.net"><img src="Readme_files/moin-email.png" alt="[WWW]" height="11" width="11"> Michael FÃ¶tsch</a>. Visit <a class="external" href="http://www.realmike.org/"><img src="Readme_files/moin-www.png" alt="[WWW]" height="11" width="11"> RealMike's Programming Resources</a>. </p>
<div id="pagebottom"></div>
</div>
</body></html>